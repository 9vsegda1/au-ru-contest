(this["webpackJsonpau-ru-contest"]=this["webpackJsonpau-ru-contest"]||[]).push([[0],[,,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"city":"\u0410\u0440\u0442\u0451\u043c\u043e\u0432\u0441\u043a","population":"1688"},{"city":"\u0410\u0447\u0438\u043d\u0441\u043a","population":"105259"},{"city":"\u0411\u043e\u0433\u043e\u0442\u043e\u043b","population":"19819"},{"city":"\u0411\u043e\u0440\u043e\u0434\u0438\u043d\u043e","population":"16061"},{"city":"\u0414\u0438\u0432\u043d\u043e\u0433\u043e\u0440\u0441\u043a","population":"29195"},{"city":"\u0414\u0443\u0434\u0438\u043d\u043a\u0430","population":"21015"},{"city":"\u0415\u043d\u0438\u0441\u0435\u0439\u0441\u043a","population":"17805"},{"city":"\u0416\u0435\u043b\u0435\u0437\u043d\u043e\u0433\u043e\u0440\u0441\u043a","population":"83857"},{"city":"\u0417\u0430\u043e\u0437\u0451\u0440\u043d\u044b\u0439","population":"10286"},{"city":"\u0417\u0435\u043b\u0435\u043d\u043e\u0433\u043e\u0440\u0441\u043a","population":"61915"},{"city":"\u0418\u0433\u0430\u0440\u043a\u0430","population":"4417"},{"city":"\u0418\u043b\u0430\u043d\u0441\u043a\u0438\u0439","population":"14967"},{"city":"\u041a\u0430\u043d\u0441\u043a","population":"89111"},{"city":"\u041a\u043e\u0434\u0438\u043d\u0441\u043a","population":"15911"},{"city":"\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a","population":"1095286"},{"city":"\u041b\u0435\u0441\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a","population":"59525"},{"city":"\u041c\u0438\u043d\u0443\u0441\u0438\u043d\u0441\u043a","population":"68007"},{"city":"\u041d\u0430\u0437\u0430\u0440\u043e\u0432\u043e","population":"49825"},{"city":"\u041d\u043e\u0440\u0438\u043b\u044c\u0441\u043a","population":"179554"},{"city":"\u0421\u043e\u0441\u043d\u043e\u0432\u043e\u0431\u043e\u0440\u0441\u043a","population":"40614"},{"city":"\u0423\u0436\u0443\u0440","population":"15563"},{"city":"\u0423\u044f\u0440","population":"11981"},{"city":"\u0428\u0430\u0440\u044b\u043f\u043e\u0432\u043e","population":"37136"}]')},,function(e,t,a){e.exports=a(33)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a.n(i),s=a(11),o=a.n(s),c=(a(19),a(5)),l=(a(20),a(1)),u=a(2),m=a(4),d=a(3),p=(a(21),a(22),function(e){var t=e.myBlur,a=e.isHidden;return r.a.createElement("div",{className:"status__inputinput_background",onClick:t,style:a?{display:"none"}:{display:"block",zIndex:10}})}),f=function(e){var t=e.rref,a=e.isHidden,n=e.onBlur,i=e.inputV,s=e.onChangeInput,o=e.myBlur,c=e.onKeyDown;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{myBlur:o,isHidden:a}),r.a.createElement("input",{onKeyDown:c,hidden:a,ref:t,onBlur:n,className:"status__input",type:"text",value:i,onChange:s,style:{zIndex:100}}))},h=(a(23),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeStatus=function(){n.setState({isHidden:!1}),n.setState((function(e,t){return{inputV:e.status}})),n.inputRef.current.focus(),n.inputRef.current.select()},n.myBlur=function(){n.onBlur()},n.onBlur=function(){n.setState((function(e){return{status:e.inputV,isHidden:!0}}))},n.onChangeInput=function(e){n.setState({inputV:e.target.value})},n.handleKeyDown=function(e){"Enter"===e.key?n.onBlur():"Escape"===e.key&&(n.setState((function(e){return{inputV:e.status}})),n.onBlur())},n.state={status:"\u041f\u0440\u0435\u0436\u0434\u0435 \u0447\u0435\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c, \u043d\u0430\u0434\u043e \u043f\u043e\u043d\u044f\u0442\u044c",inputV:"",isHidden:!0},n.inputRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.state.isHidden||this.inputRef.current.focus()}},{key:"render",value:function(){var e=this.state,t=e.onBlur,a=e.isHidden,n=e.inputV;return r.a.createElement("div",{className:"status"},r.a.createElement("p",{onClick:this.changeStatus,className:"status__change"},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 "),r.a.createElement("span",{className:"status__current"},r.a.createElement(f,{myBlur:this.myBlur,rref:this.inputRef,onBlur:t,isHidden:a,inputV:n,onChangeInput:this.onChangeInput,onKeyDown:this.handleKeyDown}),this.state.status))}}]),a}(r.a.Component)),b=function(){return r.a.createElement("div",{className:"app__header"},r.a.createElement("h1",null,r.a.createElement("span",null,"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435,")," \u0427\u0435\u043b\u043e\u0432\u0435\u043a \u21163596941"),r.a.createElement(h,null))},y=a(7),v=(a(24),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style;return r.a.createElement("hr",{style:t,className:"hr__styled"})}),g=(a(25),function(e){var t=e.left,a=e.middle,n=e.right,i=e.mb,s=void 0===i?16:i;return r.a.createElement("div",{className:"sign-in-form_row",style:{marginBottom:s+"px"}},r.a.createElement("label",null,t),a,r.a.createElement("span",null,n))}),E=(a(26),function(e){var t=e.text,a=e.isOpen;return r.a.createElement("div",{className:"select__input"},r.a.createElement("span",null,t),r.a.createElement("i",{className:"fa fa-chevron-"+(a?"up":"down")}))}),w=function(e){var t=e.data,a=void 0===t?[]:t,n=e.selectedId,i=e.setCurrent,s=a.map((function(e){var t="";return e.id===n&&(t="selected"),r.a.createElement("li",{onClick:function(){return i(e.id)},key:e.id,className:"select__item "+t},e.city)}));return r.a.createElement("div",{className:"select__dropdown "},r.a.createElement("ul",{className:"select__list"},s))},k=function(e){var t=e.data,a=e.setCity,n=e.city,s=Object(i.useState)(!1),o=Object(c.a)(s,2),l=o[0],u=o[1],m=t.find((function(e){return e.id===n}));return r.a.createElement("div",{className:"select "+(l?"open":""),onClick:function(){return u(!l)}},r.a.createElement(p,{isHidden:!l}),r.a.createElement(E,{isOpen:l,text:m.city}),r.a.createElement(w,{setCurrent:a,data:t,selectedId:n}))},O=(a(27),function(){return r.a.createElement("div",{className:"loadingio-spinner-rolling-id3qnj2sib"},r.a.createElement("div",{className:"ldio-qcqlz9q78bk"},r.a.createElement("div",null)))}),V=(a(28),function(e){var t=e.formValid,a=e.date,n=e.isLoading,i=n||!t,s=n?r.a.createElement(O,null):"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c";return r.a.createElement("div",{className:"button_container"},r.a.createElement("button",{disabled:i,type:"submit",className:"submit-button"},s),r.a.createElement("span",{className:"button_time"},"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f ",a))}),_=(a(29),function(e){var t=e.onChange,a=e.isVisible,n=void 0===a||a,i=e.isOk,s=void 0===i||i,o=e.value,c=void 0===o?"":o,l=e.name,u=void 0===l?"noname":l,m=e.notOkMessage,d=void 0===m?"":m,p="sing-in-form_input "+(s?"":"sing-in-form_input__red"),f=n?"text":"password",h=d?r.a.createElement("p",{className:"sing-in-form_input_error"},d):r.a.createElement("p",{className:"sing-in-form_input_error"});return r.a.createElement("div",{className:"sing-in-form_input_root"},r.a.createElement("input",{name:u,required:!0,value:c,onChange:t,className:p,type:f}),h)}),C=(n=_,function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={isVisible:!1},e.visibleChange=function(){e.setState((function(e){return{isVisible:!e.isVisible}}))},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sing-in-form_input__anchor"},r.a.createElement(n,Object.assign({},this.props,{isVisible:this.state.isVisible})),r.a.createElement("i",{className:"far fa-eye input_eye",onClick:this.visibleChange}))}}]),a}(r.a.Component)),N=(a(30),function(e){var t=e.text,a=e.checkboxToggle,n=e.checked;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{checked:n,onChange:a,className:"custom-checkbox",type:"checkbox",id:"emailCheckbox",name:"emailCheckbox"}),r.a.createElement("label",{htmlFor:"emailCheckbox",className:"checkbox_label"},t))}),j=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},x=a(9),R=function(e){return function(t){Object(m.a)(n,t);var a=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).state={password:"",passwordRepeat:"",email:"",subscribe:!0,formErrors:{email:"",password:"",passwordRepeat:""},emailValid:!1,passwordValid:!1,passwordRepeatValid:!1,formValid:!1},e.handleUserInput=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.checkboxToggle=function(t){e.setState((function(e){return{subscribe:!e.subscribe}}))},e.onSubmit=function(){console.log("validator submit log");var t=e.state;return{email:t.email,password:t.password,subscribe:t.subscribe}},e}return Object(u.a)(n,[{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,i=this.state.passwordValid,r=this.state.passwordRepeatValid;switch(e){case"email":if(""===t){a.email="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 E-mail";break}n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 E-mail";break;case"password":if(""===t){a.password="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c";break}i=t.length>=5,a.password=i?"":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",r=t===this.state.passwordRepeat,a.passwordRepeat=r?"":"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442";break;case"passwordRepeat":r=t===this.state.password,a.passwordRepeat=r?"":"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}this.setState({formErrors:a,emailValid:n,passwordValid:i,passwordRepeatValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid&&this.state.passwordRepeatValid})}},{key:"render",value:function(){var t=this.state,a=t.password,n=t.passwordRepeat,i=t.email,s=t.subscribe,o=this.state,c=o.emailValid,l=o.passwordValid,u=o.passwordRepeatValid,m=o.formErrors,d=o.formValid,p={emailValid:c,passwordValid:l,passwordRepeatValid:u,formErrors:m};return r.a.createElement(e,Object.assign({},this.props,{email:i,subscribe:s,checkboxToggle:this.checkboxToggle,password:a,validation:p,repeatPassword:n,handleUserInput:this.handleUserInput,onSubmit:this.onSubmit,formValid:d}))}}]),n}(r.a.Component)},S=a(12),I=function e(){var t=this;Object(l.a)(this,e),this._data=S||[],this.getData=function(){return t._data.map((function(e,t){return Object(y.a)({id:t},e)}))}},B=a(13);var H=function(e){return function(t){Object(m.a)(n,t);var a=Object(d.a)(n);function n(e){var t;return Object(l.a)(this,n),(t=a.call(this,e)).changeItem=function(e){t.setState({city:e})},t.API=new I,t.data=function(e){var t=e.filter((function(e){return e.population>=5e4})).sort((function(e,t){return Number(e.population)>Number(t.population)?-1:Number(e.population)<Number(t.population)?1:0})),a=t[0],n=t.slice(1).sort((function(e,t){return e.city.toLowerCase()<t.city.toLowerCase()?-1:e.city.toLowerCase()>t.city.toLowerCase()?1:0}));return[a].concat(Object(B.a)(n))}(t.API.getData()),t.state={city:t.data[0].id},t}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.props,{data:this.data,city:this.state.city,changeItem:this.changeItem}))}}]),n}(r.a.Component)},D=function(){return(new Date).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric",second:"numeric"})},L=(a(31),j(H,R)((function(e){var t=e.changeItem,a=e.city,n=e.data,s=e.password,o=e.repeatPassword,l=e.email,u=e.handleUserInput,m=e.validation,d=e.subscribe,p=e.checkboxToggle,f=e.onSubmit,h=e.formValid,b=e.submitHandler,E=e.isLoading,w=m.emailValid,O=m.passwordValid,j=m.passwordRepeatValid,x=m.formErrors,R=Object(i.useState)("15 \u043c\u0430\u044f 2012 \u0432 14:55:17"),S=Object(c.a)(R,2),I=S[0],B=S[1],H=r.a.createElement(C,{isOk:O,notOkMessage:x.password,name:"password",value:s,onChange:u}),L=r.a.createElement(C,{isOk:j,notOkMessage:x.passwordRepeat,name:"passwordRepeat",value:o,onChange:u}),T=r.a.createElement(_,{isOk:w,notOkMessage:x.email,name:"email",value:l,onChange:u}),F=r.a.createElement(k,{city:a,setCity:t,data:n}),U=r.a.createElement(N,{checked:d,checkboxToggle:p,text:"\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043d\u0430 \u0435\u043c\u0435\u0439\u043b"}),q=r.a.createElement(V,{formValid:h,date:I,isLoading:E});return r.a.createElement("form",{onSubmit:function(e){e.stopPropagation(),e.preventDefault();var t=f();B(D()),b(Object(y.a)(Object(y.a)({},t),{},{cityId:a,date:I}))}},r.a.createElement(g,{left:"\u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434",middle:F,mb:32}),r.a.createElement(v,null),r.a.createElement(g,{left:"\u041f\u0430\u0440\u043e\u043b\u044c",middle:H,right:"\u0412\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}),r.a.createElement(g,{left:"\u041f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",middle:L,right:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u044d\u0442\u043e \u043e\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u0438\u0442 \u0432\u0430\u0441 \u0441 \u043d\u0430\u043c\u0438 \u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439 \u043e\u0448\u0438\u0431\u043a\u0438"}),r.a.createElement(v,{style:{marginTop:"23px"}}),r.a.createElement(g,{left:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",middle:T,right:"\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),r.a.createElement(g,{left:"\u042f \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d",middle:U}),r.a.createElement(g,{middle:q}))}))),T=(a(32),function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"app-container"},r.a.createElement(b,null),r.a.createElement(L,{isLoading:a,submitHandler:function(e){return n(!0),console.log("loading..."),setTimeout((function(){n(!1),console.log(e)}),3e3),e}}))});o.a.render(r.a.createElement(T,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.7a2ffc5c.chunk.js.map